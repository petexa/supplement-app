
<!DOCTYPE html>
<html>
<head>
  <title>Supplement Tracker App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
  <script src="config.js"></script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script>
    let tokenClient;
    let accessToken = null;
    let gapiInited = false;
    let gisInited = false;

    function gapiLoaded() {
      gapi.load('client', initializeGapiClient);
    }

    async function initializeGapiClient() {
      await gapi.client.init({
        apiKey: '',
        discoveryDocs: ['https://sheets.googleapis.com/$discovery/rest?version=v4'],
      });
      gapiInited = true;
      maybeEnableButtons();
    }

    function gisLoaded() {
      tokenClient = google.accounts.oauth2.initTokenClient({
        client_id: GOOGLE_CLIENT_ID,
        scope: 'https://www.googleapis.com/auth/spreadsheets',
        callback: (tokenResponse) => {
          accessToken = tokenResponse.access_token;
          document.getElementById('auth-status').textContent = '✅ Signed in';
          document.getElementById('save-button').disabled = false;
        },
      });
      gisInited = true;
      maybeEnableButtons();
    }

    function maybeEnableButtons() {
      if (gapiInited && gisInited) {
        document.getElementById('authorize-button').disabled = false;
      }
    }

    function handleAuthClick() {
      tokenClient.requestAccessToken();
    }

    function saveTrackerData() {
      const sleep = document.getElementById('sleep').value;
      const energy = document.getElementById('energy').value;
      const notes = document.getElementById('notes').value;
      const values = [[new Date().toLocaleString(), sleep, energy, notes]];

      const body = {
        values: values,
      };

      gapi.client.sheets.spreadsheets.values.append({
        spreadsheetId: '1IFY5he5Y1N5Q8wrcAm5nSwdPI-x9gmTc0LpagZouNXI',
        range: 'Sheet1!A:D',
        valueInputOption: 'RAW',
        insertDataOption: 'INSERT_ROWS',
        resource: body,
      }).then((response) => {
        alert('✅ Data saved to Google Sheet!');
      });
    }
  </script>
</head>
<body>
  <nav>
    <button onclick="document.getElementById('plan').scrollIntoView()">📅 Plan</button>
    <button onclick="document.getElementById('tracker').scrollIntoView()">📝 Tracker</button>
    <button onclick="document.getElementById('shopping').scrollIntoView()">🛒 Shopping</button>
  </nav>

  <h1 id="plan">📆 7-Day Supplement Plan</h1>
  <div class="day-card"><h3>Monday</h3><ul>
  <li><strong>04:30</strong> — Wake + Hydration</li>
  <li><strong>11:00</strong> — Oats + Supplements (Whey, Creatine, Multivitamin, Vitamin D)</li>
  <li><strong>18:15</strong> — Pre-Workout (Caffeine, Beta-Alanine, Citrulline Malate)</li>
  <li><strong>20:00</strong> — Post-Workout (Whey Protein, Creatine)</li>
  <li><strong>21:00</strong> — Magnesium Glycinate</li>
  </ul></div>
  <div class="day-card"><h3>Tuesday</h3><ul>
  <li><strong>04:30</strong> — Wake + Hydration</li>
  <li><strong>11:00</strong> — Oats + Supplements (Whey, Creatine, Multivitamin, Vitamin D)</li>
  <li><strong>21:00</strong> — Magnesium Glycinate</li>
  </ul></div>
  <div class="day-card"><h3>Wednesday</h3><ul>
  <li><strong>06:00</strong> — Wake + Hydration</li>
  <li><strong>08:00</strong> — Oats + Supplements (Whey, Creatine, Multivitamin, Vitamin D)</li>
  <li><strong>09:15</strong> — Pre-Run (Caffeine, Beta-Alanine)</li>
  <li><strong>11:00</strong> — Post-Workout (Optional: Whey Protein)</li>
  <li><strong>21:00</strong> — Magnesium Glycinate</li>
  </ul></div>
  <div class="day-card"><h3>Thursday</h3><ul>
  <li><strong>04:30</strong> — Wake + Hydration</li>
  <li><strong>11:00</strong> — Oats + Supplements (Whey, Creatine, Multivitamin, Vitamin D)</li>
  <li><strong>18:15</strong> — Pre-Workout (Caffeine, Beta-Alanine, Citrulline Malate)</li>
  <li><strong>20:00</strong> — Post-Workout (Whey Protein, Creatine)</li>
  <li><strong>21:00</strong> — Magnesium Glycinate</li>
  </ul></div>
  <div class="day-card"><h3>Friday</h3><ul>
  <li><strong>06:00</strong> — Wake + Hydration</li>
  <li><strong>05:15</strong> — Pre-Run (Caffeine)</li>
  <li><strong>07:00</strong> — Post + Oats + Supplements (Whey, Creatine, Multivitamin, Vitamin D)</li>
  <li><strong>21:00</strong> — Magnesium Glycinate</li>
  </ul></div>
  <div class="day-card"><h3>Saturday</h3><ul>
  <li><strong>06:15</strong> — Pre-Workout (Caffeine, Beta-Alanine, Citrulline Malate)</li>
  <li><strong>08:00</strong> — Post-Workout (Whey Protein, Creatine)</li>
  <li><strong>11:00</strong> — Optional Oats + Supplements (Multivitamin, Vitamin D)</li>
  <li><strong>21:00</strong> — Magnesium Glycinate</li>
  </ul></div>
  <div class="day-card"><h3>Sunday</h3><ul>
  <li><strong>06:15</strong> — Pre-Workout (Caffeine, Beta-Alanine, Citrulline Malate)</li>
  <li><strong>08:00</strong> — Post-Workout (Whey Protein, Creatine)</li>
  <li><strong>11:00</strong> — Optional Oats + Supplements (Multivitamin, Vitamin D)</li>
  <li><strong>21:00</strong> — Magnesium Glycinate</li>
  </ul></div>

  <h1 id="tracker">📝 Daily Tracker</h1>
  <label>Sleep Quality (1-5): <input type="number" id="sleep" min="1" max="5" /></label><br>
  <label>Energy Level (1-5): <input type="number" id="energy" min="1" max="5" /></label><br>
  <label>Notes:<br><textarea id="notes" rows="4" cols="30"></textarea></label><br><br>
  <button id="authorize-button" onclick="handleAuthClick()" disabled>🔐 Sign in with Google</button>
  <span id="auth-status">Not signed in</span><br><br>
  <button id="save-button" onclick="saveTrackerData()" disabled>💾 Save to Google Sheet</button><br><br>
  <a href="https://docs.google.com/spreadsheets/d/1IFY5he5Y1N5Q8wrcAm5nSwdPI-x9gmTc0LpagZouNXI/edit" target="_blank">📄 View Google Sheet</a>

  <h1 id="shopping">🛒 Supplement Shopping List</h1>
  <ul>
    <li>✔️ <a href="https://www.myprotein.com/sports-nutrition/creatine-monohydrate/10530050.html" target="_blank">Creatine Monohydrate</a></li>
    <li>✔️ <a href="https://www.myprotein.com/sports-nutrition/beta-alanine/10529274.html" target="_blank">Beta-Alanine</a></li>
    <li>✔️ <a href="https://www.bulk.com/uk/citrulline-malate.html" target="_blank">Citrulline Malate</a></li>
    <li>✔️ <a href="https://www.bulk.com/uk/caffeine-tablets.html" target="_blank">Caffeine</a></li>
    <li>✔️ <a href="https://www.myprotein.com/sports-nutrition/impact-whey-protein/10530943.html" target="_blank">Whey Protein</a></li>
    <li>✔️ <a href="https://www.hollandandbarrett.com/shop/product/holland-barrett-multivitamins-6000136242" target="_blank">Multivitamin</a></li>
    <li>✔️ <a href="https://www.hollandandbarrett.com/shop/product/holland-barrett-vitamin-d3-1000iu-60003291" target="_blank">Vitamin D3</a></li>
    <li>✔️ <a href="https://www.hollandandbarrett.com/shop/product/nature-s-bounty-magnesium-glycinate-200mg-60057194" target="_blank">Magnesium Glycinate</a></li>
    <li>✔️ <a href="https://www.precisionhydration.com/products/ph-1000-electrolyte-drink-mix-8-pack/" target="_blank">Electrolyte Powder or Tablets</a></li>
  </ul>

  <script src="https://apis.google.com/js/api.js" onload="gapiLoaded()"></script>
  <script src="https://accounts.google.com/gsi/client" onload="gisLoaded()"></script>
</body>
</html>
